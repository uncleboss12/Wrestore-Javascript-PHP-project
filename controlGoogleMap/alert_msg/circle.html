<!DOCTYPE HTML>
<html>
<head>
    <style>
        body {
            margin: 0px;
            padding: 0px;
        }
    </style>
    <!DOCTYPE html>
    <html>
    <head>
<body>

<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg">
    <!--<defs>-->
        <!--<style type="text/css">-->
            <!--circle { fill: green; }-->
        <!--</style>-->
    <!--</defs>-->
    <circle r="20" cx="20" cy="50" fill="red"></circle>
</svg><!--<script src="http://d3js.org/d3.v3.js" charset="utf-8"></script>-->

<div id="circle_1"></div>
<script src="svg.min.js"></script>
<script src="svg_circle.js"></script>

<script>
    function draw_circle() {
        var draw = SVG('circle_1');
        draw.size(120, 120);
        draw.circle(100).attr({ fill: '#32AD4F' });
    }

    draw_circle();

//    var circle1 = new circle_f();
//    var divv = document.getElementById('ccc');
//    divv.appendChild(circle1);
//
//    function circle_f(){
//        var svg1 = document.createElement('SVG');
//        svg1.className = "newnode";
//        var c1 = document.createElement('CIRCLE');
//        c1.size(120, 120);
//        c1.circle(100).attr({ fill: '#32AD4F' });
//
//        svg1.appendChild(c1);
//
//        var divv = document.getElementById('ccc');
//        divv.appendChild(svg1);
////        return svg1;
//    }
//    var doctype = '<?xml version="1.0" standalone="no"?>'
//        + '<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';
//
//    // serialize our SVG XML to a string.
//    var source = (new XMLSerializer()).serializeToString(d3.select('svg').node());
//
//    // create a file blob of our SVG.
//    var blob = new Blob([ doctype + source], { type: 'image/svg+xml;charset=utf-8' });
//
//    var url = window.URL.createObjectURL(blob);
//
//    // Put the svg into an image tag so that the Canvas element can read it in.
//    var img = d3.select('body').append('img')
//        .attr('width', 100)
//        .attr('height', 100)
//        .node();
//
//    img.onload = function(){
//        // Now that the image has loaded, put the image into a canvas element.
//        var canvas = d3.select('body').append('canvas').node();
//        canvas.width = 100;
//        canvas.height = 100;
//        var ctx = canvas.getContext('2d');
//        ctx.drawImage(img, 0, 0);
//        var canvasUrl = canvas.toDataURL("image/png");
//        var img2 = d3.select('body').append('img')
//            .attr('width', 100)
//            .attr('height', 100)
//            .node();
//        // this is now the base64 encoded version of our PNG! you could optionally
//        // redirect the user to download the PNG by sending them to the url with
//        // `window.location.href= canvasUrl`.
//        img2.src = canvasUrl;
//    }
//    // start loading the image.
//    img.src = url;
</script>
</body>
</html>